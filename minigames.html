<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maniek - Minigry</title>
    <link rel="stylesheet" href="./css/all.css">
    <link rel="stylesheet" href="./css/games/minigames.css">

    <script src="./js/cookies.js"></script>
</head>
<body>
    <main>
        <div class="enter-fullscreen">
            <div class="background"></div>
            <button>
                <span class="big blue"> Włącz pełny ekran </span> <br>
                <br> > aby poprawnie korzystać z gry <
                <br> <span class="blue">(wciśnij ten przycisk)</span>
            </button>
        </div>

        <div class="game-navigation">
            <div class="button selected" data-game="logoitarcza" data-name="Logo i Tarcza">
                <img src="assets/logoitarcza.png" alt="Logo i Tarcza">
            </div>
    
            <div class="button" data-game="flappymaniek" data-name="Flappy Maniek">
                <img src="assets/flappymaniek.png" alt="Flappy Maniek">
            </div>

            <div class="button" data-game="wisielec" data-name="Wisielec">
                <img src="assets/wisielec.png" alt="Wisielec">
            </div>

            <div class="button" data-game="pong" data-name="Pong">
                <img src="assets/pong.png" alt="Pong">
            </div>

            <div class="button" data-game="hardestgame" data-name="Maniek's Hardest Game">
                <img src="assets/demonic-maniek.png" alt="Maniek's Hardest Game">
            </div>
        </div>

        <canvas id="game-canvas" class="pong hardestgame">

        </canvas>

        <div id="game-overlay" class="hidden">

            <div class="paused">
                <h1>Pauza</h1>
                <div class="pause-buttons">
                    <button class="resume">Wznów</button>
                    <button class="resetGame">Resetuj grę</button>
                </div>
            </div>

            <div class="endedGame hidden">
                <h1 class="gameResult"></h1>
                <div class="pause-buttons">
                    <button class="freeplay">Graj dalej</button>
                    <button class="resetGame">Zagraj ponownie</button>
                </div>
            </div>

            <div class="pong pong-modes">
                <div class="button" data-gamemode="normal">
                    <img src="./assets/gamemode0.png" alt="Normal">
                    <p class="label">Prosty</p>
                </div>
                <div class="button" data-gamemode="advanced">
                    <img src="./assets/gamemode1.png" alt="Advanced">
                    <p class="label">Trudny</p>
                </div>
                <div class="button" data-gamemode="wall">
                    <img src="./assets/gamemode2.png" alt="Wall">
                    <p class="label">Ścianiek</p>
                </div>
            </div>
            <div class="pong pong-side-buttons">
                <div class="button" data-action="pong-leaderboards">
                    <img src="./assets/trophy.png" alt="Leaderboard">
                    <p class="label">Wyniki</p>
                </div>
                <div class="button selected" data-action="pong-modes">
                    <img src="./assets/ai-computer.png" alt="Gamemodes">
                    <p class="label">AI</p>
                </div>
            </div>

            <div class="pong pong-leaderboards">
                <div class="highscores">
                    <img src="./assets/gamemode0.png" alt="">
                    <p>[Prosty]<br/>najwyższy wynik</p>
                    <div class="highscoresList" data-highscorecookie="pong-mode0"></div>
                </div>
                <div class="highscores">
                    <img src="./assets/gamemode0.png" alt="">
                    <p>[Prosty] 1❤<br/>najwyższy wynik</p>
                    <div class="highscoresList" data-highscorecookie="pong-mode0-onelife"></div>
                </div>

                <div class="highscores">
                    <img src="./assets/gamemode1.png" alt="">
                    <p>[Trudny]<br/>najwyższy wynik</p>
                    <div class="highscoresList" data-highscorecookie="pong-mode1"></div>
                </div>
                <div class="highscores">
                    <img src="./assets/gamemode1.png" alt="">
                    <p>[Trudny] 1❤<br/>najwyższy wynik</p>
                    <div class="highscoresList" data-highscorecookie="pong-mode1-onelife"></div>
                </div>

                <div class="highscores">
                    <img src="./assets/gamemode2.png" alt="">
                    <p>[Ścianiek]<br/>najwyższy wynik</p>
                    <div class="highscoresList" data-highscorecookie="pong-mode2"></div>
                </div>
                <div class="highscores">
                    <img src="./assets/gamemode2.png" alt="">
                    <p>[Ścianiek] 1❤<br/>najwyższy wynik</p>
                    <div class="highscoresList" data-highscorecookie="pong-mode2-onelife"></div>
                </div>
            </div>
        </div>

        <div id="both-sides">
            <div class="hardestgame titlescreen">
                <img src="./assets/demonic-maniek.png" alt="Demon" class="demon">
                
                <div>
                    <span class="slide"><h1>MANIEK'S</h1></span>
                    <span class="slide"><h1>HARDEST</h1></span>
                    <span class="slide"><h1>GAME</h1></span>
                </div>
                <h2 class="tagline">Przygotuj się na porażkę.</h2>

                <!-- TODO: Jak gra działa, canvas gry  -->

                <div>
                    <button class="enterGame">WKROCZ</button>
                </div>
            </div>
        </div>

        <!-- Lewa strona (brazowa, gierki) -->
        <div class="games-side logoitarcza">

            <!-- TIC TAC TOE (Logo i Tarcza) -->
            <section class="logoitarcza">
                <div class="game-container" id="game-board">
                    <h1 class="game-name">
                        <span class="blue">Logo</span> i <span class="brown">Tarcza</span>
                    </h1>
                    <div class="win-popup" id="winPopup">
                        <p class="popupText" id="popupText"></p>
                        <div class="popup-btns">
                            <button id="resetBtn"><img src="./assets/retry.png"></button>
                        </div>
                    </div>
                    <div class="tiles"></div>
                </div>

                <!-- Icons at the bottom/top -->
                <div class="legend">
                    <div class="player">
                        <img src="./assets/krzyzyk.png" alt="X">
                        <span class="blue">Gracz</span>
                    </div>
                    <div class="opponent">
                        <img src="./assets/kolko.png" alt="O">
                        <span class="brown">Maniek</span>
                    </div>
                </div>
            </section>

            <!-- FLAPPY MANIEK -->
            <section class="flappymaniek">
                <div class="tv">
                    <div class="screen">
                        <p class="titlescreen">Flappy Maniek</p>
                        <p class="highscore playing">0</p>
                        <p class="gameover hidden">GAME OVER</p>
    
                        <div class="pipes"></div>
                    </div>

                    <div class="antennas">
                        <div></div> <div></div>
                    </div>
                    <div class="stands">
                        <div></div> <div></div>
                    </div>
                </div>
                
            </section>

            <div class="score player logoitarcza">
                <img src="./assets/krzyzyk.png">
                <span class="wins">0 wygranych</span>
                <img src="./assets/krzyzyk.png">
            </div>
            


            <!-- WISIELEC (Nie Eksploduj Mańka) -->
            <section class="wisielec">
                <div class="wisielec-title">
                    <div class="bg1"></div>
                    <div class="bg2"></div> <div class="bg3"></div>
                    <span>NIE</span>
                    <span class="red">Eksploduj</span>
                    <span class="blue">Mańka!</span>
                </div>

                <div class="left-side">

                    <div class="score wins">
                        <img src="./assets/crown.png">
                        <span class="wins">0 wygranych</span>
                        <img src="./assets/crown.png">
                    </div>

                    <div class="maniek-stages">
                        <div>
                            <img src="./assets/explosion.gif" class="explosion">
                            <p class="wordResult"></p>
                        </div>
                        <img src="./assets/maniekczesc1.png" data-id="1">
                        <img src="./assets/maniekczesc2.png" data-id="2">
                        <img src="./assets/maniekczesc3.png" data-id="3">
                        <img src="./assets/maniekczesc4.png" data-id="4">
                        <img src="./assets/maniekczesc5.png" data-id="5">
                        <img src="./assets/maniekczesc6.png" data-id="6">
                    </div>

                    <div class="score explosions">
                        <img src="./assets/explosion.png">
                        <span class="explosions">0 wybuchów</span>
                        <img src="./assets/explosion.png">
                    </div>
                </div>
                

                <div class="input-side">
                    <p class="category">Kategoria: </p>
                    <div class="letters">
                        
                    </div>

                    <div class="keyboard">
                        <div class="row row4">
                            <button>Ą</button>
                            <button>Ć</button>
                            <button>Ę</button>
                            <button>Ł</button>
                            <button>Ń</button>
                            <button>Ó</button>
                            <button>Ś</button>
                            <button>Ź</button>
                            <button>Ż</button>
                        </div>
                        <div class="row row1">
                            <button>Q</button>
                            <button>W</button>
                            <button>E</button>
                            <button>R</button>
                            <button>T</button>
                            <button>Y</button>
                            <button>U</button>
                            <button>I</button>
                            <button>O</button>
                            <button>P</button>
                        </div>
                        <div class="row row2">
                            <div class="spacer"></div>
                            <button>A</button>
                            <button>S</button>
                            <button>D</button>
                            <button>F</button>
                            <button>G</button>
                            <button>H</button>
                            <button>J</button>
                            <button>K</button>
                            <button>L</button>
                        </div>
                        <div class="row row3">
                            <div class="spacer"></div>
                            <div class="spacer"></div>
                            <button>Z</button>
                            <button>X</button>
                            <button>C</button>
                            <button>V</button>
                            <button>B</button>
                            <button>N</button>
                            <button>M</button>
                        </div>
                        
                    </div>
                </div>
            </section>

            <!-- PONG -->
            <div class="pong pong-score left-score">
                <h1>0</h1>
                <img src="./assets/crown.png">
            </div>
            <div class="pong rocket-timer rocket-timer-left unselectable">
                <img src="./assets/rocket-base.png">
                <h2 class="rocket-time">6s</h2>
            </div>
        </div>
    
        <!-- Prawa strona (niebieska, maniek) -->
        <div class="maniek-side">
            <div class="flappymaniek highscores">
                <p>Najlepsze wyniki</p>
                <div class="highscoresList" data-highscorecookie="flappy-highscores"></div>
            </div>

            <img class="maniek logoitarcza" src="./assets/maniek-faces/thinking.gif">
    
            <div class="score maniek logoitarcza">
                <img src="./assets/kolko.png">
                <span class="wins">0 wygranych</span>
                <img src="./assets/kolko.png">
            </div>

            <div class="pong pongtitle unselectable">
                <span>P</span>
                <span>O</span>
                <span>N</span>
                <span>G</span>
            </div>

            <div class="pong pong-score right-score">
                <h1>0</h1>
                <img src="./assets/crown.png">
            </div>
            <div class="pong rocket-timer rocket-timer-right unselectable">
                <img src="./assets/rocket-base.png">
                <h2 class="rocket-time">6s</h2>
            </div>
        </div>
    </main>

    <!-- Navigation button container / zakładki -->
    <nav class="navigation-container">
        <div class="button" data-tab="index.html" data-name="Mapa">
            <!-- Mapa -->
            <img src="./assets/locationPin.png" alt="Mapa">
        </div> 

        <div class="button" data-tab="info.html" data-name="Info">
            <!-- Info i historia szkoły -->
            <img src="./assets/info.png" alt="Info">
        </div>

        <div class="button selected" data-tab="minigames.html" data-name="Minigry">
            <!-- Minigierki -->
            <img src="./assets/minigames.png" alt="Minigry">
        </div>

        <div class="button" data-tab="wheel.php" data-name="Koło fortuny">
            <!-- Koło fortuny -->
            <img src="./assets/wheel.png" alt="Koło fortuny">
            <img src="./assets/sparkle.png" alt="" class="decoration">
        </div>
    </nav>

    <!-- Game scripts -->
    <script src="js/games/game-navigation.js"></script>

    <script src="js/navigation.js"></script>
    <script src="js/enter-fullscreen.js"></script>

    <script src="js/include-confetti.js"></script>
    <script src="js/screensaver.js"></script>

    <script>
        const gameStyles = {
            logoitarcza: './css/games/logoitarcza.css',
            flappymaniek: './css/games/flappymaniek.css',
            wisielec: './css/games/wisielec.css',
            pong: './css/games/pong.css',
            hardestgame: './css/games/hardestgame.css',
        };

        const gameScripts = {
            logoitarcza: 'js/games/logoitarcza.js',
            flappymaniek: 'js/games/flappymaniek.js',
            wisielec: 'js/games/wisielec.js',
            pong: 'js/games/pong.js',
            hardestgame: 'js/games/hardestgame.js',
        };

        let gamesDone = {};

        function loadGameResources(game) {
            if (gamesDone[game]) return;

            // Load CSS
            const link = document.createElement('link');
            link.rel = 'stylesheet';
            link.href = gameStyles[game];
            document.head.appendChild(link);

            // Load JS
            const script = document.createElement('script');
            script.src = gameScripts[game];
            script.src = `${gameScripts[game]}?v=${Math.random()}`;
            script.type = 'module';
            document.body.appendChild(script);

            gamesDone[game] = true;
        }

        document.querySelectorAll('.game-navigation .button').forEach(button => {
            const game = button.getAttribute('data-game');
            button.addEventListener('click', () => {
                loadGameResources(game);
            });
        });

        // Load resources for the initially selected game
        const initialGame = document.querySelector('.game-navigation .button.selected').getAttribute('data-game');
        loadGameResources(initialGame);
    </script>
</body>
</html>